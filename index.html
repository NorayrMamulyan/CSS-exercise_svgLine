<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>

    <div id="wrapper">
        <!--container1-->
        <div id="container" class="container" onclick="addFunc()">
            <img src="card-img.jpg" class="img" alt="Your img doesn't set">
            <h4 class="title">Ծրագրավորողների խումբ</h4>
            <p>Յուրաքանչյուր տեքստ պարունակում է բովանդակային պահանջ,որի սպառմանը ձգտելու արդյունքում այն ստեղծվել է հարաբերականորեն:</p>
        </div>
        <!--line-->
        <svg id="line">
            <text id="svg-text" x="245" y="275">Ուսուցում</text>
            <line id="svg-line" x1="150" y1="280" x2="400" y2="280" style="stroke:black" />
        </svg>
        <!--container2-->
        <div id="container2" class="container container2" onclick="addFunc()">
            <img src="card-img.jpg" class="img" alt="Your img doesn't set">
            <h4 class="title">Ծրագրավորողների խումբ</h4>
            <p>Յուրաքանչյուր տեքստ պարունակում է բովանդակային պահանջ,որի սպառմանը ձգտելու արդյունքում այն ստեղծվել է հարաբերականորեն: </p>
        </div>
    </div>

    <script>
        //Grabbing only the line from the svg
        var svgLine = document.getElementById('svg-line');

        //creating variables for #wrapper's childs
        var ctr1 = document.getElementById('container');
        var ctr1Left = ctr1.style.left = 0 + 'px';
        var ctr1Top = ctr1.style.top = 136 + 'px';
        var ctr2 = document.getElementById('container2');
        var ctr2Left = ctr2.style.left = 400 + 'px';
        var ctr2Top = ctr2.style.top = 136 + 'px';
        var line = document.getElementById('line');
        var img = document.querySelectorAll(".img");
        var title = document.querySelectorAll(".title");
        var par = document.getElementsByTagName("p");

        //grabbing start and end points of line
        var lineX1 = ctr1.clientWidth + parseInt(ctr1Left),
            lineX2 = parseInt(ctr2Left),
            lineY1 = parseInt(ctr1Top) + (ctr1.clientHeight / 2) + 5,
            lineY2 = parseInt(ctr1Top) + (ctr1.clientHeight / 2) + 5;


        //Function which is gonna make @keyframes work
        function addFunc() {
            var point1 = 0;
            //points of line
            lineX1 += point1;
            lineY1 += point1;

            if (ctr1.className == "container") {
                ctr1.classList.add("ctr1-anim1");
                ctr2.classList.add("ctr2-anim1");
                //Making components disappear & appear
                img[0].classList.add("opacity");
                par[0].classList.add("opacity");
                title[1].classList.add("opacity");

                //adding line animation
                //assigning the points (starts from ... to ...)

                line.classList.add("line-anim");
            } else if (ctr1.className == "container ctr1-anim1") {
                ctr1.classList.add("ctr1-anim2");
                ctr2.classList.add("ctr2-anim2");
                //Making components disappear & appear
                img[0].classList.remove("opacity");
                par[0].classList.remove("opacity");
                title[0].classList.add("opacity");
                par[1].classList.add("opacity");
                title[1].classList.remove("opacity");

                //line
                line.classList.add("line-anim2");
            } else if (ctr1.className == "container ctr1-anim1 ctr1-anim2") {
                //Returning everything back
                ctr1.classList.add("ctr1-anim3");
                ctr2.classList.add("ctr2-anim3");
                line.classList.add("line-anim3");
                setTimeout(function() {
                    ctr1.classList.remove("ctr1-anim1", "ctr1-anim2", "ctr1-anim3");
                    ctr2.classList.remove("ctr2-anim1", "ctr2-anim2", "ctr2-anim3");
                    line.classList.remove("line-anim", "line-anim2", "line-anim3");
                }, 1000);
                //Making components disappear & appear
                title[0].classList.remove("opacity");
                par[1].classList.remove("opacity");

            }
        }
    </script>
</body>

</html>
